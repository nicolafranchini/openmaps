jQuery(document).ready(function(o){"use strict";o(".wrap-venomaps").each(function(e){!function(e){if("undefined"==typeof ol||null===ol)return console.log("WARNING: OpenLayers Library not loaded"),!1;var n,l,t,a,r,i,s,c,p;n=e.mapid,l=e.lat,t=e.lon,i=e.style_url,s=e.custom_style,c=e.attribution,a=e.zoom,r=e.zoom_scroll,r=1==e.zoom_scroll;var m=ol.proj.fromLonLat([parseFloat(t),parseFloat(l)]);if(0==s){p="default"==i?new ol.source.OSM:c?new ol.source.OSM({url:i,attributions:c}):new ol.source.OSM({url:i});var u=new ol.Map({target:"venomaps_"+n,view:new ol.View({center:m,zoom:a,maxZoom:24,minZoom:1}),layers:[new ol.layer.Tile({source:p})],controls:ol.control.defaults({attributionOptions:{collapsible:!0}}),interactions:ol.interaction.defaults({mouseWheelZoom:r})})}else u=new ol.Map({target:"venomaps_"+n,view:new ol.View({constrainResolution:!0,center:m,zoom:a,maxZoom:24,minZoom:1}),controls:ol.control.defaults({attributionOptions:{collapsible:!0}}),interactions:ol.interaction.defaults({mouseWheelZoom:r})}),olms.apply(u,i);o("#wrap-overlay-"+n+" .wpol-infomarker").each(function(e){var l=o(this).data("marker"),t=ol.proj.fromLonLat([parseFloat(l.lon),parseFloat(l.lat)]),a=parseFloat(l.size),r=-1*a/2,i=-1*(a+12),s=document.getElementById("infomarker_"+n+"_"+e),c=new ol.Overlay({position:t,positioning:"center-center",offset:[0,r],element:s,stopEvent:!0});u.addOverlay(c),s.addEventListener("mousedown",function(o){return o.preventDefault(),!1});var p=new ol.Overlay({position:t,positioning:"bottom-center",offset:[0,i],element:document.getElementById("infopanel_"+n+"_"+e)});u.on("movestart",function(){u.removeOverlay(p)}),u.on("moveend",function(){u.addOverlay(p),o(".wpol-infopanel").closest(".ol-overlay-container").addClass("wpol-infopanel-overlay")})})}(o(this).data("infomap"))}),o(document).on("click",".wpol-infopanel",function(){o(".ol-overlay-container").removeClass("wpol-infopanel-active"),o(this).closest(".ol-overlay-container").addClass("wpol-infopanel-active")}),o(document).on("click",".wpol-infopanel-close",function(){o(this).parent(".wpol-infopanel").fadeOut()}),o(document).on("click",".wpol-infomarker",function(){var e=o(this).data("paneltarget"),n=o("#infopanel_"+e);o(".ol-overlay-container").removeClass("wpol-infopanel-active"),n.closest(".ol-overlay-container").addClass("wpol-infopanel-active"),n.fadeIn()})});
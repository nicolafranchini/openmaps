jQuery(document).ready(function(o){"use strict";o(".wrap-openmaps").each(function(e){!function(e){var n,a,t,l,i,r;n=e.mapid,a=e.lat,t=e.lon,l=e.style,i=e.zoom,r=e.zoom_scroll,r=1==e.zoom_scroll;var s=ol.proj.fromLonLat([parseFloat(t),parseFloat(a)]);if(0==l)var c=new ol.Map({target:"openmaps_"+n,view:new ol.View({center:s,zoom:i,maxZoom:24,minZoom:1}),layers:[new ol.layer.Tile({source:new ol.source.OSM})],interactions:ol.interaction.defaults({mouseWheelZoom:r})});else c=new ol.Map({target:"openmaps_"+n,view:new ol.View({constrainResolution:!0,center:s,zoom:i,maxZoom:24,minZoom:1}),interactions:ol.interaction.defaults({mouseWheelZoom:r})}),olms.apply(c,l);o("#wrap-overlay-"+n+" .wpol-infomarker").each(function(e){var a=o(this).data("marker"),t=ol.proj.fromLonLat([parseFloat(a.lon),parseFloat(a.lat)]),l=parseFloat(a.size),i=-1*l/2,r=-1*(l+12),s=new ol.Overlay({position:t,positioning:"center-center",offset:[0,i],element:document.getElementById("infomarker_"+n+"_"+e)});c.addOverlay(s);var p=new ol.Overlay({position:t,positioning:"bottom-center",offset:[0,r],element:document.getElementById("infopanel_"+n+"_"+e)});c.on("movestart",function(){c.removeOverlay(p)}),c.on("moveend",function(){c.addOverlay(p),o(".wpol-infopanel").closest(".ol-overlay-container").addClass("wpol-infopanel-overlay")})})}(o(this).data("infomap"))}),o(document).on("click",".wpol-infopanel",function(){o(".ol-overlay-container").removeClass("wpol-infopanel-active"),o(this).closest(".ol-overlay-container").addClass("wpol-infopanel-active")}),o(document).on("click",".wpol-infopanel-close",function(){o(this).parent(".wpol-infopanel").fadeOut()}),o(document).on("click",".wpol-infomarker",function(){var e=o(this).data("paneltarget");o("#infopanel_"+e).fadeIn()})});